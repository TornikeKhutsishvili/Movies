<div class="container-fluid mt-5">

  <div *ngIf="isLoading; else movieList">
    <div class="d-flex justify-content-center align-items-center gap-1">
      <div class="spinner-border spinner-border-sm" role="status">
        <span class="visually-hidden"></span>
      </div>
      <div>
        <span role="status">Loading...</span>
      </div>
    </div>
  </div>

  <ng-template #movieList>
    <!-- Carousel -->
    @if (!isLoading) {
      @for(movie of moviedetail; track movie.id) {

        @if (movie.original_language == 'en') {
          <div class="mb-4">
            <h1>American films</h1>
            <app-carusel ></app-carusel>
          </div>
        }

        <div class="mb-4">
          <h1>English films</h1>
          <app-carusel></app-carusel>
        </div>

        <div class="mb-4">
          <h1>French films</h1>
          <app-carusel></app-carusel>
        </div>

        <!-- Top movies -->
        <div class="mb-4">
          <h1>Top films</h1>
          <app-top-movies></app-top-movies>
        </div>

        <!-- Most popular films -->
        <div class="mb-4">
          <h1>Most popular films</h1>
        </div>
      }

    }
  </ng-template>

</div>


<!-- modal -->
@if (selectedMovie) {
  <div class="custom-modal">
    <div class="modal-content">

      <!-- main -->
      <button type="button" class="close-btn" (click)="closeModal()">Ã—</button>
      <img [src]="selectedMovie.posterMedium" [alt]="selectedMovie.title" />
      <h2 style="color: #007ACC;">{{ selectedMovie.title }}</h2>

      <!-- pulse animation -->
      <app-pulse-animation id="pulsAnim"></app-pulse-animation>

      <!-- movie duration -->
      <app-movie-duration id="movieDurat" [runtimeMinutes]="selectedMovie.runtime_minutes"></app-movie-duration>

    </div>
  </div>
}
